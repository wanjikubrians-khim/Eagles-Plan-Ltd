<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eagles Plan Ltd. - General Supplies</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Roboto', sans-serif; }
        .smooth-scroll { scroll-behavior: smooth; }
        .card { transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15); }
        img { object-fit: cover; }
        .star-rating input { display: none; }
        .star-rating label { cursor: pointer; color: #d1d5db; font-size: 1.5rem; }
        .star-rating input:checked ~ label, .star-rating label:hover, .star-rating label:hover ~ label { color: #f59e0b; }
        .star-filled { color: #f59e0b; }
        .star-empty { color: #d1d5db; }
        #sidebar { transition: transform 0.3s ease; }
        #overlay { transition: opacity 0.3s ease; }
    </style>
</head>
<body class="bg-gray-100 smooth-scroll">
    <!-- Sidebar for Small Screens -->
    <div id="sidebar" class="fixed inset-y-0 left-0 w-64 bg-white shadow-lg transform -translate-x-full md:hidden z-50">
        <div class="flex justify-between items-center p-4 border-b">
            <div class="text-xl font-bold">Eagles Plan Ltd.</div>
            <button id="closeSidebar" class="text-gray-600 hover:text-gray-800">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
            </button>
        </div>
        <ul class="flex flex-col space-y-4 p-4">
            <li><a href="#home" class="text-lg hover:text-blue-600 transition" onclick="toggleSidebar()">Home</a></li>
            <li><a href="#about" class="text-lg hover:text-blue-600 transition" onclick="toggleSidebar()">About</a></li>
            <li><a href="#services" class="text-lg hover:text-blue-600 transition" onclick="toggleSidebar()">Services</a></li>
            <li><a href="#reviews" class="text-lg hover:text-blue-600 transition" onclick="toggleSidebar()">Reviews</a></li>
            <li><a href="#contact" class="text-lg hover:text-blue-600 transition" onclick="toggleSidebar()">Contact</a></li>
        </ul>
    </div>
    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden md:hidden z-40" onclick="toggleSidebar()"></div>

    <!-- Header -->
    <header class="bg-blue-900 text-white sticky top-0 z-30 shadow-md">
        <nav class="container mx-auto flex justify-between items-center py-4 px-6">
            <div class="text-2xl font-bold">Eagles Plan Ltd.</div>
            <!-- Hamburger Icon for Small Screens -->
            <button id="openSidebar" class="md:hidden text-white">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
            </button>
            <!-- Desktop Navigation -->
            <ul class="hidden md:flex space-x-6">
                <li><a href="#home" class="hover:text-blue-300 transition">Home</a></li>
                <li><a href="#about" class="hover:text-blue-300 transition">About</a></li>
                <li><a href="#services" class="hover:text-blue-300 transition">Services</a></li>
                <li><a href="#reviews" class="hover:text-blue-300 transition">Reviews</a></li>
                <li><a href="#contact" class="hover:text-blue-300 transition">Contact</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="home" class="bg-blue-800 text-white py-20">
        <div class="container mx-auto text-center px-6">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">Welcome to Eagles Plan Ltd.</h1>
            <p class="text-lg md:text-xl mb-6">Your trusted partner for high-quality general supplies.</p>
            <a href="#contact" class="bg-yellow-500 text-black font-semibold py-3 px-6 rounded-lg hover:bg-yellow-600 transition">Get a Quote</a>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-16">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-8">About Us</h2>
            <p class="text-lg text-gray-700 max-w-2xl mx-auto text-center mb-6">
                Eagles Plan Ltd. is a leading supplier of general goods, offering a wide range of products including office supplies, industrial equipment, and household essentials. With a commitment to quality and customer satisfaction, we aim to meet the diverse needs of businesses and individuals alike.
            </p>
            <div class="max-w-2xl mx-auto">
                <h3 class="text-xl font-semibold mb-4">Our Vision</h3>
                <p class="text-gray-700 mb-6">To be the premier provider of general supplies, delivering unparalleled quality and value to our customers across the region.</p>
                <h3 class="text-xl font-semibold mb-4">Our Mission</h3>
                <p class="text-gray-700">To supply high-quality products with exceptional service, fostering long-term partnerships built on trust, reliability, and innovation.</p>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="bg-gray-200 py-16">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12">Our Services</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-lg text-center card">
                    <img src="https://images.unsplash.com/photo-1516321497487-e288fb19713f?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60" alt="Office Supplies" class="w-full h-48 rounded-t-lg mb-4">
                    <h3 class="text-xl font-semibold mb-4">Office Supplies</h3>
                    <p class="text-gray-600">From stationery to furniture, we provide everything your office needs to run smoothly.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg text-center card">
                    <img src="https://images.unsplash.com/photo-1586528116311-ad8c5517983b?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60" alt="Industrial Equipment" class="w-full h-48 rounded-t-lg mb-4">
                    <h3 class="text-xl font-semibold mb-4">Industrial Equipment</h3>
                    <p class="text-gray-600">High-quality tools and machinery to support your industrial operations.</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg text-center card">
                    <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=60" alt="Household Goods" class="w-full h-48 rounded-t-lg mb-4">
                    <h3 class="text-xl font-semibold mb-4">Household Goods</h3>
                    <p class="text-gray-600">Reliable and affordable products for homes and small businesses.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Reviews Section -->
    <section id="reviews" class="py-16">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-12">Customer Reviews</h2>
            <!-- Display Reviews -->
            <div id="reviewsList" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12"></div>
            <!-- Review Form -->
            <div class="max-w-lg mx-auto">
                <h3 class="text-xl font-semibold text-center mb-6">Leave a Review</h3>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <div class="space-y-4">
                        <input type="text" id="reviewName" placeholder="Your Name" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <div class="star-rating flex justify-center space-x-1">
                            <input type="radio" id="star5" name="rating" value="5"><label for="star5">★</label>
                            <input type="radio" id="star4" name="rating" value="4"><label for="star4">★</label>
                            <input type="radio" id="star3" name="rating" value="3"><label for="star3">★</label>
                            <input type="radio" id="star2" name="rating" value="2"><label for="star2">★</label>
                            <input type="radio" id="star1" name="rating" value="1"><label for="star1">★</label>
                        </div>
                        <textarea id="reviewComment" placeholder="Your Review" rows="4" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                        <button id="submitReview" class="w-full bg-blue-900 text-white font-semibold py-3 rounded-lg hover:bg-blue-800 transition">Submit Review</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="bg-gray-200 py-16">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold text-center mb-8">Contact Us</h2>
            <div class="max-w-3xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Contact Form -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <p class="text-gray-600 mb-4 text-center">Reach out to us for inquiries or quotes.</p>
                    <div class="space-y-4">
                        <input type="text" id="name" placeholder="Your Name" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <input type="email" id="email" placeholder="Your Email" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <textarea id="message" placeholder="Your Message" rows="4" class="w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                        <button id="submitBtn" class="w-full bg-blue-900 text-white font-semibold py-3 rounded-lg hover:bg-blue-800 transition">Send Message</button>
                        <a href="https://wa.me/254723046426?text=Hello%20Eagles%20Plan%20Ltd.,%20I%20have%20an%20inquiry!" target="_blank" class="w-full bg-green-500 text-white font-semibold py-3 rounded-lg hover:bg-green-600 transition flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.019-.458.13-.606.134-.133.297-.347.446-.52.148-.173.198-.297.297-.495.099-.198.05-.371-.025-.52-.074-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 011.892 6.993c-.001 5.45-4.437 9.884-9.885 9.884m6.332-15.708A11.955 11.955 0 0012.001 0C5.398 0 .093 5.305.093 11.907a11.955 11.955 0 001.518 5.985l-2.405 8.796 9.014-2.367a12.057 12.057 0 005.781 1.475c6.603 0 11.908-5.305 11.908-11.907S18.604.075 12.001.075"/></svg>
                            Contact via WhatsApp
                        </a>
                    </div>
                </div>
                <!-- Working Hours -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-semibold mb-4 text-center">Working Hours</h3>
                    <table class="w-full text-gray-600">
                        <tr><td class="py-2 font-medium">Monday - Friday</td><td class="py-2 text-right">8:00 AM - 5:00 PM</td></tr>
                        <tr><td class="py-2 font-medium">Saturday</td><td class="py-2 text-right">9:00 AM - 1:00 PM</td></tr>
                        <tr><td class="py-2 font-medium">Sunday</td><td class="py-2 text-right">Closed</td></tr>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-blue-900 text-white py-6">
        <div class="container mx-auto text-center px-6">
            <p>© 2025 Eagles Plan Ltd. All rights reserved.</p>
            <p class="mt-2">Phone: 0723046426 / 0707882300 | Email: eaglesplan9@gmail.com</p>
            <p class="mt-2">
                <a href="https://wa.me/254707882300?text=Hello%20Eagles%20Plan%20Ltd.,%20I%20have%20an%20inquiry!" target="_blank" class="inline-flex items-center text-green-300 hover:text-green-400 transition">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.019-.458.13-.606.134-.133.297-.347.446-.52.148-.173.198-.297.297-.495.099-.198.05-.371-.025-.52-.074-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.095 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 011.892 6.993c-.001 5.45-4.437 9.884-9.885 9.884m6.332-15.708A11.955 11.955 0 0012.001 0C5.398 0 .093 5.305.093 11.907a11.955 11.955 0 001.518 5.985l-2.405 8.796 9.014-2.367a12.057 12.057 0 005.781 1.475c6.603 0 11.908-5.305 11.908-11.907S18.604.075 12.001.075"/></svg>
                    WhatsApp Us
                </a>
            </p>
        </div>
    </footer>

    <script>
        // Toggle sidebar
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            sidebar.classList.toggle('-translate-x-full');
            overlay.classList.toggle('hidden');
        }

        document.getElementById('openSidebar').addEventListener('click', toggleSidebar);
        document.getElementById('closeSidebar').addEventListener('click', toggleSidebar);

        // Handle contact form submission
        document.getElementById('submitBtn').addEventListener('click', async function() {
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const message = document.getElementById('message').value;

            if (name && email && message) {
                try {
                    const response = await fetch('/api/contact', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ name, email, message })
                    });
                    if (response.ok) {
                        alert('Thank you for your message! We will get back to you soon via email.');
                        document.getElementById('name').value = '';
                        document.getElementById('email').value = '';
                        document.getElementById('message').value = '';
                    } else {
                        alert('Error sending message. Please try again.');
                    }
                } catch (error) {
                    alert('Error sending message. Please try again.');
                }
            } else {
                alert('Please fill out all fields.');
            }
        });

        // Handle review form submission
        document.getElementById('submitReview').addEventListener('click', async function() {
            const name = document.getElementById('reviewName').value;
            const comment = document.getElementById('reviewComment').value;
            const rating = document.querySelector('input[name="rating"]:checked')?.value;

            if (name && comment && rating) {
                try {
                    const response = await fetch('/api/reviews', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ name, comment, rating: parseInt(rating) })
                    });
                    if (response.ok) {
                        alert('Thank you for your review! It will be displayed once approved.');
                        document.getElementById('reviewName').value = '';
                        document.getElementById('reviewComment').value = '';
                        document.querySelector('input[name="rating"]:checked').checked = false;
                        renderReviews();
                    } else {
                        alert('Error submitting review. Please try again.');
                    }
                } catch (error) {
                    alert('Error submitting review. Please try again.');
                }
            } else {
                alert('Please fill out all fields and select a rating.');
            }
        });

        // Render reviews
        async function renderReviews() {
            const reviewsList = document.getElementById('reviewsList');
            try {
                const response = await fetch('/api/reviews');
                const reviews = await response.json();
                reviewsList.innerHTML = '';
                if (reviews.length === 0) {
                    reviewsList.innerHTML = '<p class="text-center text-gray-600">No reviews yet.</p>';
                } else {
                    reviews.forEach(review => {
                        const reviewCard = document.createElement('div');
                        reviewCard.className = 'bg-white p-6 rounded-lg shadow-md';
                        reviewCard.innerHTML = `
                            <h4 class="text-lg font-semibold">${review.name}</h4>
                            <div class="flex mb-2">
                                ${Array(5).fill(0).map((_, i) => `<span class="${i < review.rating ? 'star-filled' : 'star-empty'}">★</span>`).join('')}
                            </div>
                            <p class="text-gray-600">${review.comment}</p>
                            <p class="text-sm text-gray-500 mt-2">${new Date(review.date).toLocaleDateString()}</p>
                        `;
                        reviewsList.appendChild(reviewCard);
                    });
                }
            } catch (error) {
                reviewsList.innerHTML = '<p class="text-center text-gray-600">Error loading reviews.</p>';
            }
        }

        // Initial render of reviews
        renderReviews();
    </script>
</body>
</html>